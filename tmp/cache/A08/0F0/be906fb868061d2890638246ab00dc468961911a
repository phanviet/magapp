o: ActiveSupport::Cache::Entry	:@compressedF:@expires_in0:@created_atf1352799520.363608:@value"¿[I"±// Rich CKEditor integration plugin - Bastiaan Terhorst
(function(){CKEDITOR.plugins.add("richfile",{init:function(e){e._.insertImagefn=CKEDITOR.tools.addFunction(function(e,t,n){this.insertHtml('<img src="'+e+'" alt="" data-rich-file-id="'+t+'" />')},e),e._.insertFilefn=CKEDITOR.tools.addFunction(function(e,t,n){this.insertHtml('<a href="'+e+'" data-rich-file-id="'+t+'">'+n+"</a>")},e),e.on("doubleclick",function(t){var n=t.data.element;n.is("img")&&!n.data("cke-realelement")&&!n.isReadOnly()&&e.execCommand("insertRichImage")}),e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.insertImagefn)}),e.addCommand("insertRichImage",{exec:function(e){var t={};t.CKEditor=e.name,t.CKEditorFuncNum=e._.insertImagefn,t.default_style=e.config.default_style,t.allowed_styles=e.config.allowed_styles,t.insert_many=e.config.insert_many,t.type="image",t.scoped=e.config.scoped||!1,t.scoped==1&&(t.scope_type=e.config.scope_type,t.scope_id=e.config.scope_id),t.viewMode=e.config.view_mode||"grid";var n=addQueryString(e.config.richBrowserUrl,t);e.popup(n,860,500)}}),e.addCommand("insertRichFile",{exec:function(e){var t={};t.CKEditor=e.name,t.CKEditorFuncNum=e._.insertFilefn,t.default_style="original",t.allowed_styles="original",t.insert_many=e.config.insert_many,t.type="file",t.scoped==1&&(t.scope_type=e.config.scope_type,t.scope_id=e.config.scope_id),t.viewMode=e.config.view_mode||"list";var n=addQueryString(e.config.richBrowserUrl,t);e.popup(n,860,500)}}),e.ui.addButton("richImage",{label:"Browse and upload images",command:"insertRichImage",icon:"/assets/rich/images.png"}),e.ui.addButton("richFile",{label:"Browse and upload files",command:"insertRichFile",icon:"/assets/rich/files.png"})}})})();:ET